{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
<script type="text/javascript" src="{% static "js/timer/jquery.countdown.js" %}"></script>
<script type="text/javascript" src="{% static "js/timer/jquery.countdown.min.js" %}"></script>
<link rel="stylesheet" type="text/css" href="{% static "css/landing_page.css" %}">
<script src="{% static "js/landing_page.js" %}"></script>
{% endblock extra_head %}

{% block title_splash %}
    <div class="container titleSplash pt-5">
        <div id="onybuff_carousel" class="carousel slide d-none d-md-block" data-ride="carousel" data-interval="4000"
            data-pause="false">
            <div class="carousel-inner">
                <ol class="carousel-indicators">
                    <li data-target="#onybuff_carousel" data-slide-to="0" class="active"></li>
                    <li data-target="#onybuff_carousel" data-slide-to="1"></li>
                    <li data-target="#onybuff_carousel" data-slide-to="2"></li>
                    <li data-target="#onybuff_carousel" data-slide-to="3"></li>
                    <li data-target="#onybuff_carousel" data-slide-to="4"></li>
                </ol>
                <div class="carousel-item active">
                    <img src="{% static "images/carousel/warrior_if_carousel.jpg" %}" class="d-block w-100" alt="...">

                    <div class="carousel-caption">
                        <h1 style="font-family:Aeio; font-size:400%">Ony Buff</h1>
                        <p>Getting you the information you need with minimal effort.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static "images/carousel/talent_carousel.png" %}" class="d-block w-100" alt="...">

                    <div class="carousel-caption">
                        <h2>Talent Calculator</h2>
                        <p>Our talent calculator allows you to save your specs so you can reference them in the future
                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static "images/carousel/enchant_carousel.png" %}" class="d-block w-100" alt="...">

                    <div class="carousel-caption">
                        <h2>Enchant Calculator</h2>
                        <p>Calculate what materials you need to enchant your pre-raid BIS gear</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="{% static "images/carousel/guides_carousel.png" %}" class="d-block w-100" alt="...">

                    <div class="carousel-caption">
                        <h2>Specs and Guides</h2>
                        <p>Lists of specs, consumes for raids/pvp, and more...</p>
                    </div>
                </div>
                <div class="carousel-item">

                    <img src="{% static "images/carousel/consume_carousel.png" %}" class="d-block w-100" alt="...">

                    <div class="carousel-caption">
                        <h2>Consume Calculator</h2>
                        <p>Calculate what materials you need with our consumable calculator</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="p-3 page-description">Classic World of Warcraft Tools for the Experienced Player</div>
        <div class="row class-selection nav-is-sticky steel-textured"></div>
    </div>
    {% endblock title_splash %}

    {% block mainbody %}
    <div class="mainBody container">
        <div class="row selection-header sticky-top">
            <!-- <h2 class="my-auto font-weight-bold">Onybuff.com</h2> -->
        </div>
        <div class="row content-container mt-4">
            <div class="col-12 mb-4 site-content">
                <div class="sidebar-header">Site Content</div>
                <div class="col sidebar-content">
                    <a class="sidebar-ref" href="specsAndGuides">Specs & Guides</a>
                    <p>If you need to know what consumes to bring to raid or a quick spec reference or you should check
                        out our Specs & Guides.</p>
                    <a class="sidebar-ref" href="consumeTool">Consumable Calculator</a>
                    <p>Getting your consumables crafted buy a guildie or crafting them yourself? Use our Consumable Tool
                        to find ot exactly what materials you need.</p>
                    <a class="sidebar-ref" href="talent">Talent Calculator</a>
                    <p>Want to mess around with your characters spec? Instead of wasting gold for an extra respec, plan
                        it out first with our Talent Calculator.</p>
                    <a class="sidebar-ref" href="enchantTool">Enchant Calculator</a>
                    <p>Got your preraid bis or a shiney new peice of gear from Molten Core? Use our Enchant Tool to get
                        all the correct materials before hitting up an enchanter.</p>
                    <a class="sidebar-ref" href="contact">Contact Us</a>
                    <p>Have an idea you'd like to see on the website? Found a bug? Send us a message and let us know
                        about it!</p>
                    <span>Classic WoW releases in:</span>
                    <div class="countdown"></div>
                </div>
            </div>
            <div class="card-container col-lg-8 col-12 recent-news">
                <div class="card mb-3 bg-transparent border-light text-center">
                    <div class="card-header bg-transparent border-light text-light">
                        <button class="btn btn-sm float-left" title="Refresh"
        					style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: #3d7e9a; border: 0; background-color: transparent;" type="button">
        					<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
        				</button>
                        <!-- <div class="clearfix"></div> -->
                        <h5><span class="fix-me">NEW SAVED SPECS</span></h5>
                    </div>
<!-- //////////////////////////////////////////////////////////////////////////////////// -->
                {% for spec in specs %}
                <div class="row feedItem mt-5">
                        <div class="col-4">
                            <div class="listImage">
                                    <div class="listIcon"></div>
                            </div>
                            <div class="row">
                            </div>
                        </div>
                        <div class="col-8">
                            <div class="row feed-header">
                                       
                            </div>
                            <div class="row feed-content">
                                <div class="col-8 feedTitle">{{spec.name}}</div>
                                <div class="col-4">
                                    <div class="pt-3">
                                            {% for n in rangen %}
                                            {% if n == rangen|first %}
                                            <a class="btn btn-sm float-right"
                                                style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                                                <span class="glyphicon glyphicon-star-empty" aria-hidden="true" title="Edit"></span>
                                            </a>
                                            {% else %}
                                            <a class="btn btn-sm float-right"
                                                style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                                                <span class="glyphicon glyphicon-star" aria-hidden="true" title="Edit"></span>
                                            </a>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            <div class="row feed-content">
                                    <div class="col-12 feed-desc">
                                            {{spec.description}}
                                    </div>
                                </div>
                                <hr class="row mt-2 mb-2" style="border: 1px solid white; width: 100%; margin-top:0; margin-bottom:0;"></hr>
                            <div class="row feed-content">
                                        {% for tag in spec.tags.all %}
                                        <div class="feed-tag">{{tag.name}}</div>
                                        {% endfor %}
                            </div>
                            <div class="row feed-content"></div>
                        </div>
                        <div class="col-12 row feed-footer">
                                <div class="col-4">
                                        <span class="{{spec.wow_class.name}}">{{spec.wow_class.name|title}}</span>
                                        <span class="">
                                            (
                                        {% with trees=spec.treeallotted_set.all %}
                                        {% for tree in trees %}
                                        {% if not tree == trees|first %}
                                        /
                                        {% else %}
                                        {% endif %}
                                        {{tree.invested}}
                                        {% endfor %}
                                        {% endwith %}
                                            )
                                        </span>
                                    </div>
                                    <div class="col-4">By:
                                            {% if spec.user.email == request.user.email %}
                                                <a href="">me</a>
                                                {% elif not spec.private %}
                                                <a href="">{{spec.user.disc_username}}</a>
                                                {% else %}
                                                anonymous
                                                {% endif %}
                                    </div>
                                    <div class="col-4">
                                        Created {{spec.created}}
                                    </div>
                        </div>
                    </div>
<!-- //////////////////////////////////////////////////////////////////////////////////// -->


                <div class="card-body text-light">
                    <h5 class="card-title text-center"><a href="{% url 'talents' spec.wow_class.name %}?{{spec.hash}}">{{spec.name}}</a></h5>
                    <span class="{{spec.wow_class.name}}">{{spec.wow_class.name|title}}</span> --
                    {% spaceless %}
                    <span>
                    {% with trees=spec.treeallotted_set.all %}
                    {% for tree in trees %}
                    {% if not tree == trees|first %}
                    /
                    {% else %}
                    {% endif %}
                    {{tree.invested}}
                    {% endfor %}
                    {% endwith %}
                    </span>
                    {% endspaceless %}
                    {% for n in rangen %}
                        {% if n == rangen|first %}
                        <a class="btn btn-sm float-right"
                            style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                            <span class="glyphicon glyphicon-star-empty" aria-hidden="true" title="Edit"></span>
                        </a>
                        {% else %}
                        <a class="btn btn-sm float-right"
                            style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                            <span class="glyphicon glyphicon-star" aria-hidden="true" title="Edit"></span>
                        </a>
                        {% endif %}
                    {% endfor %}
                    <div class="clearfix"></div>
                    <p>By:
                    {% if spec.user.email == request.user.email %}
                        <a href="">me</a>
                        {% elif not spec.private %}
                        <a href="">{{spec.user.disc_username}}</a>
                        {% else %}
                        anonymous
                        {% endif %}
                    </p>
                    <span> -------------------- </span>
                    <p> <span style="text-decoration: underline;">Description</span>: {{spec.description}}</p>
                    <p><span style="text-decoration: underline;"> Added</span>:<span> {{spec.created}}</span></p>

                    {% for tag in spec.tags.all %}
                        <span><a href="#{{tag.name}}">#{{tag.name}}</a></span>
                    {% endfor %}
                    {% if spec.user.email == request.user.email %}
                        <a class="btn btn-sm float-right" style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: #3d7e9a; border: 0; -webkit-appearance: unset;"
                        type="button" role="button" {% comment %} href="{% url 'talents' spec.wow_class.name %}?{{spec.hash}}" {% endcomment %}>
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true" title="Edit"></span>
                        </a>
                        <div class="clearfix"></div>
                    {% endif %}
                    <br>
                    <hr style="border: 1px solid white; width: 40%; margin-top:0; margin-bottom:0;"></hr>

                    

                    <table style="margin:auto;">
                        <thead>
                            <tr>
                                <th colspan="2"><div><h5 class="fix-me">AVAILABLE PROPERTIES</h5></div><div><span style="font-size:80%;">not 100% comprehensive</span></div></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span>spec name</span></td>
                                <td><span class="fix-me">{{spec.name}}</span></td>
                            </tr>
                            <tr>
                                <td><span>created</span></td>
                                <td><span class="fix-me">{{spec.created}}</span></td>
                            </tr>
                            <tr>
                                <td><span>last updated</span></td>
                                <td><span class="fix-me">{{spec.updated}}</span></td>
                            </tr>
                            <tr>
                                <td><span>num ratings</span></td>
                                <td><span class="fix-me">{{spec.ratings.count}}</span></td>
                            </tr>
                            <tr>
                                <td><span>avg rating</span></td>
                                <td><span class="fix-me">{{spec.rating}}</span></td>
                            </tr>
                            <tr>
                                <td><span>wow class name</span></td>
                                <td><span class="fix-me">{{spec.wow_class.name}}</span></td>
                            </tr>
                            <tr>
                                <td><span>hash</span></td>
                                <td><span class="fix-me">{{spec.hash}}</span></td>
                            </tr>
                            <tr>
                                <td><span>private?</span></td>
                                <td><span class="fix-me">{{spec.private}}</span></td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr>
                                <th colspan="2">USER</th>
                            </tr>
                        </thead>
                        {% with user=spec.user %}
                        <tbody>
                            <tr>
                                <td><span>discord uid</span></td>
                                <td><span class="fix-me">{{user.uid}}</span></td>
                            </tr>
                            <tr>
                                <td><span>discord username</span></td>
                                <td><span class="fix-me">{{user.disc_username}}</span></td>
                            </tr>
                            <tr>
                                <td><span>discord tag</span></td>
                                <td><span class="fix-me">{{user.tag}}</span></td>
                            </tr>
                            <tr>
                                <td><span>date joined</span></td>
                                <td><span class="fix-me">{{user.date_joined}}</span></td>
                            </tr>
                            <tr>
                                <td><span>db index</span></td>
                                <td><span class="fix-me">{{user.id}}</span></td>
                            </tr>
                            <tr>
                                <td><span>email</span></td>
                                <td><span class="fix-me">{{user.email}}</span></td>
                            </tr>
                            <tr>
                                <td><span>staff?</span></td>
                                <td><span class="fix-me">{{user.is_staff}}</span></td>
                            </tr>
                            <tr>
                                <td><span>admin?</span></td>
                                <td><span class="fix-me">{{user.is_superuser}}</span></td>
                            </tr>
                        </tbody>
                        {% endwith %}
                        <thead>
                            <tr>
                                <th colspan="2">TREES</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for tree in spec.treeallotted_set.all %}
                            <tr>
                                <td>{{tree.name}}</td>
                                <td class="fix-me">{{tree.invested}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        <thead>
                            <tr>
                                <th colspan="2">TAGS</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for tag in spec.tags.all %}
                            <tr>
                                <td colspan="2" class="fix-me">{{tag.name}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                        <br>
                    <hr style="border: 1px solid white; width: 100%;"></hr>
                    </div>
                {% endfor %} {# endspecs #}

                {% for consumelist in consume_lists %}
                <div class="card-body text-light">
                    <h5 class="card-title text-center"><a href="{% url 'consume_tool' %}?{{consumelist.hash}}">{{consumelist.name}}</a></h5>
                {% for n in rangen %}
                    {% if n == rangen|first %}
                    <a class="btn btn-sm float-right"
                        style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                        <span class="glyphicon glyphicon-star-empty" aria-hidden="true" title="Edit"></span>
                    </a>
                    {% else %}
                    <a class="btn btn-sm float-right"
                        style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: rgb(231, 186, 0); border: 0; -webkit-appearance: unset;">
                        <span class="glyphicon glyphicon-star" aria-hidden="true" title="Edit"></span>
                    </a>
                    {% endif %}
                {% endfor %}
                <div class="clearfix"></div>
                <p>By:
                {% if consumelist.user.email == request.user.email %}
                    <a href="">me</a>
                {% elif not consumelist.private %}
                    <a href="">{{consumelist.user.disc_username}}</a>
                {% else %}
                    anonymous
                {% endif %}
                </p>
                <span> -------------------- </span>
                <p><span style="text-decoration: underline;">Description</span>: {{consumelist.description}}</p>
                <p><span style="text-decoration: underline;"> Added</span>:<span> {{consumelist.created}}</span></p>

                {% for tag in consumelist.tags.all %}
                    <span><a href="#{{tag.name}}">#{{tag.name}}</a></span>
                {% endfor %}
                {% if consumelist.user.email == request.user.email %}
                    <a class="btn btn-sm float-right" style="margin: 0 2px 0 1px; padding: 0 3px 0 3px; color: #3d7e9a; border: 0; -webkit-appearance: unset;"
                    type="button" role="button" {% comment %} href="{% url 'consume_tool' %}?{{consumelist.hash}}" {% endcomment %}>
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true" title="Edit"></span>
                    </a>
                    <div class="clearfix"></div>
                {% endif %}
                <table style="margin:auto;">
                    <thead>
                        <tr>
                            <th colspan="2"><div><h5 class="fix-me">AVAILABLE PROPERTIES</h5></div><div><span style="font-size:80%;">not 100% comprehensive</span></div></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span>list name</span></td>
                            <td><span class="fix-me">{{consumelist.name}}</span></td>
                        </tr>
                        <tr>
                            <td><span>created</span></td>
                            <td><span class="fix-me">{{consumelist.created}}</span></td>
                        </tr>
                        <tr>
                            <td><span>last updated</span></td>
                            <td><span class="fix-me">{{consumelist.updated}}</span></td>
                        </tr>
                        <tr>
                            <td><span>num ratings</span></td>
                            <td><span class="fix-me">{{consumelist.ratings.count}}</span></td>
                        </tr>
                        <tr>
                            <td><span>avg rating</span></td>
                            <td><span class="fix-me">{{consumelist.rating}}</span></td>
                        </tr>
                        <tr>
                            <td><span>hash</span></td>
                            <td><span class="fix-me">{{consumelist.hash}}</span></td>
                        </tr>
                        <tr>
                            <td><span>private?</span></td>
                            <td><span class="fix-me">{{consumelist.private}}</span></td>
                        </tr>
                    </tbody>
                    <thead>
                        <tr>
                            <th colspan="2">USER</th>
                        </tr>
                    </thead>
                    {% with user=consumelist.user %}
                    <tbody>
                        <tr>
                            <td><span>discord uid</span></td>
                            <td><span class="fix-me">{{user.uid}}</span></td>
                        </tr>
                        <tr>
                            <td><span>discord username</span></td>
                            <td><span class="fix-me">{{user.disc_username}}</span></td>
                        </tr>
                        <tr>
                            <td><span>discord tag</span></td>
                            <td><span class="fix-me">{{user.tag}}</span></td>
                        </tr>
                        <tr>
                            <td><span>date joined</span></td>
                            <td><span class="fix-me">{{user.date_joined}}</span></td>
                        </tr>
                        <tr>
                            <td><span>db index</span></td>
                            <td><span class="fix-me">{{user.id}}</span></td>
                        </tr>
                        <tr>
                            <td><span>email</span></td>
                            <td><span class="fix-me">{{user.email}}</span></td>
                        </tr>
                        <tr>
                            <td><span>staff?</span></td>
                            <td><span class="fix-me">{{user.is_staff}}</span></td>
                        </tr>
                        <tr>
                            <td><span>admin?</span></td>
                            <td><span class="fix-me">{{user.is_superuser}}</span></td>
                        </tr>
                    </tbody>
                    {% endwith %}
                    <thead>
                        <tr>
                            <th colspan="3">VIA CUSTOM DICT</th>
                        </tr>
                    </thead>
                    {% for name,y in saved_lists.items %}
                    {% if name == consumelist.name %}
                    <thead>
                        <tr>
                            <th colspan="3">{{name}}</th>
                        </tr>
                    </thead>
                    {% for a,b in y.consumes.items %}
                    <thead>
                        <tr>
                            <th colspan="3">{{a}}</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for c,d in b.items %}
                            <tr>
                                <td>{{c}}</td>
                                <td class="fix-me">{{d}}</td>
                            </tr>
                        {% endfor %}

                    {% endfor %}
                    </tbody>
                    {% else %}
                    {% endif %}
                    {% endfor %}
                    <thead>
                        <tr>
                            <th colspan="2">TAGS</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for tag in consumelist.tags.all %}
                        <tr>
                            <td colspan="2" class="fix-me">{{tag.name}}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

                <hr style="border: 1px solid white; width: 100%;"></hr>
                </div>
                {% endfor %} {# endconsumelists #}

                </div>

                <div class="card mb-3 bg-transparent border-light text-center">
                    <div class="card-header bg-transparent border-light text-light">
                        Recent News
                    </div>
                    <div class="card-body text-light">
                        <h5 class="card-title text-center">WoW Classic Release Date</h5>
                        <p class="card-text text-left">'World of Warcraft: Classic' is confirmed to release August
                            26th @ 3PM (PDT)</p>
                        <p class="card-text text-left">Current Content Release Plan</p>

                        <ul class="card-text text-left">
                            <li>
                                Stage 1: Phase 1 (Classic Launch) | Molten Core | Onyxia | Maraudon | You can PvP
                                one another in the world, but there is no tracking, and no formal rewards for doing
                                so.
                            </li>
                            <br />
                            <li>
                                Stage 2: Dire Maul | Azuregos | Kazzak | Honor System (including Dishonorable Kills)
                                | PvP Rank Rewards
                            </li>
                            <br />
                            <li>
                                Stage 3: Blackwing Lair | Darkmoon Faire | Darkmoon deck drops begin | Alterac
                                Valley (version 1.12) | Warsong Gulch
                            </li>
                            <br />
                            <li>
                                Stage 4: Zul’Gurub | Green Dragons | Arathi Basin
                            </li>
                            <br />
                            <li>
                                Stage 5: Ahn’Qiraj War Effort begins | Ahn’Qiraj raids open when the war effort
                                dictates | Dungeon loot reconfiguration: Tier 0.5 Dungeon gear, Relics, drop rates
                                and location changes
                            </li>
                            <br />
                            <li>
                                Stage 6: Naxxramas | Scourge Invasion | World PvP objectives in Silithus and Eastern
                                Plaguelands
                            </li>
                        </ul>
                        <p>These plans are subject to change, but we wanted to provide an inside look at future
                            plans.
                            We look forward to continuing to hear your thoughts as we continue to bring WoW Classic
                            to
                            life.</p>
                        <a href="https://us.forums.blizzard.com/en/wow/t/classic-pvp-content-plan/146049"
                            class="btn btn-dark">Go To Article</a>
                    </div>
                    <div class="card-footer text-muted border-light">
                        1/5/2019
                    </div>
                </div>
                <div class=" pt-4">
                    <div class="card mb-3 bg-transparent border-light text-center">
                        <h5 class="card-header bg-transparent border-light text-light">
                            Changelog
                        </h5>
                        <div class="card-body text-light">
                            <p class="card-text text-left">4/29/2019</p>
                            <ul class="card-text text-left">
                                <li>
                                    Added Specs and Guides Section.
                                </li>
                                <li>
                                    Added Working Talent Calculator.
                                </li>
                                <li>
                                    Updated Consume Tool to display more useful information.
                                </li>
                                <li>
                                    Changed overall site style and design.
                                </li>
                            </ul>
                            <p class="card-text text-left">1/5/2019</p>
                            <ul class="card-text text-left">
                                <li>
                                    Initial Launch with consume tool and enchant tool.
                                </li>
                            </ul>
                        </div>
                        <div class="card-footer text-muted border-light">
                            <p>We are constantly adding new things to Onybuff.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% endblock mainbody %}

    {% block footer %}
    {# "not necessary, here to demonstrate block.super" #}
    {{block.super}}
    {% endblock footer %}
