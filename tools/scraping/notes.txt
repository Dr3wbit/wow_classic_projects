driver = webdriver.Chrome(executable_path=os.path.abspath("tools/scraping/drivers/chromedriver"))
BASE_URL="https://classicdb.ch/?item="
n = 12459
url = "{}{}".format(BASE_URL, n)
driver.get(url)

tooltip = driver.find_elements(By.CSS_SELECTOR, 'div.tooltip')[-1]
tables = tooltip.find_elements(By.XPATH, "./table/tbody/tr/td/table")

upper_table = tables[0].find_element(By.XPATH, "./tbody/tr/td")
upper_items = upper_table.text.split("\n")

lower_table = tables[1].find_element(By.XPATH, "./tbody/tr/td")

spans = lower_table.find_elements(By.XPATH, "./span")

for span in spans:
    if span.text.startswith("Equip"):

equip:
    "sp": "...damage and healing..."
    "crit": "Improves your...critical strike..." #https://classicdb.ch/?item=16579
    "spellcrit": "Improves your...critical strike with spells..." #https://classicdb.ch/?item=16579
    "hit": "Improves your...chance to hit..."
    "spellhit": "...hit with spells..." #https://classicdb.ch/?item=16437
    "mhp5": "Restores..."
    "Increased Defense +5."

    "Increases the speed of your Ghost Wolf ability by 15%." #https://classicdb.ch/?item=16573
    "Increases the duration of your Sprint ability by 3 sec." #https://classicdb.ch/?item=16558
    "Increases the damage absorbed by your Mana Shield by 285." #https://classicdb.ch/?item=16540
    "Increases the damage done by your Multi-Shot by 4%." #https://classicdb.ch/?item=16571
    "Increases the Holy damage bonus of your Judgement of the Crusader by 20." #https://classicdb.ch/?item=16471
    "Gives you a 50% chance to avoid interruption caused by damage while casting Mind Blast." #https://classicdb.ch/?item=17620
    "Gives you a 50% chance to avoid interruption caused by damage while casting Searing Pain." #https://classicdb.ch/?item=17588
    "Reduces the mana cost of your Arcane Shot by 15." #https://classicdb.ch/?item=16530
    "Hamstring Rage cost reduced by 3." #https://classicdb.ch/?item=16548

    "Slightly increases your stealth detection." #https://classicdb.ch/?item=22863

    "Increases the block value of your shield by 30." #https://classicdb.ch/?item=19862
    "Increased Defense +7." #https://classicdb.ch/?item=19862
    "Increases your chance to block attacks with a shield by 2%." #https://classicdb.ch/?item=19862
    "Increases healing done by spells and effects by up to 134." #https://classicdb.ch/?item=23454

    "Sometimes heals bearer of 120 to 181 damage when damaging an enemy in melee." #https://classicdb.ch/?item=19287

    "Chance to strike your melee target with lightning for 200 to 301 Nature damage." #https://classicdb.ch/?item=19289

    "Gives the wearer a 10% chance of being able to resurrect with 20% health and mana." #https://classicdb.ch/?item=19290

    "When struck has a 15% chance of reducing the attacker's movement speed by 50% for 5 secs." #https://classicdb.ch/?item=23238
    "When struck in combat inflicts 13 Fire damage to the attacker." #https://classicdb.ch/?item=18815
    "When struck in combat has a 1% chance of increasing all party member's armor by 250 for 30 sec." #https://classicdb.ch/?item=14557

    "Restores 150 mana or 20 rage when you kill a target that gives experience; this effect cannot occur more than once every 10 seconds." #https://classicdb.ch/?item=17104
    "Restores 16 health per 5 sec." #https://classicdb.ch/?item=17082

    "Has a 2% chance when struck in combat of protecting you with a holy shield." #https://classicdb.ch/?item=11302

    "2% chance on successful spellcast to allow 100% of your Mana regeneration to continue while casting for 15 sec." #https://classicdb.ch/?item=19288

    "+28 Attack Power." #https://classicdb.ch/?item=22856
    "+45 Attack Power when fighting Demons." #https://classicdb.ch/?item=18715
    "+60 Attack Power when fighting Beasts." #https://classicdb.ch/?item=7710



chance:

use:
    #https://classicdb.ch/?item=19336
    "Infuses you with Arcane energy, causing your next Arcane Shot fired within 10 sec to detonate at the target. The Arcane Detonation will deal 185 to 216 damage to enemies near the target. (cooldown 2 min)"

    #https://classicdb.ch/?item=19337
    "Empowers your pet, increasing pet damage by 100% and increasing pet armor by 100% for 30 sec. This spell will only affect an Imp, Succubus, Voidwalker, or Felhunter. (cooldown 5 min)"

    #https://classicdb.ch/?item=21670
    "Gives a chance on melee or ranged attack to apply an armor penetration effect on you for 30 sec, lowering the target's physical armor by 200 to your own attacks. The armor penetration effect can be applied up to 6 times. (cooldown 3 min)"

    #https://classicdb.ch/?item=19345
    "Increases armor by 500, and heals 35 damage every time you take ranged or melee damage for 20 sec. (cooldown 5 min)"

    "Increases the block value of your shield by 235 for 20 sec. (cooldown 2 min)" #https://classicdb.ch/?item=23040

itemsets - span, q (no quotes, must have a child), a, href
    itemset children - div, q0,
        spans

descriptions - span


encountering

//*[@id="tooltip20163-generic"]/table/tbody/tr[1]/td/table[2]/tbody/tr/td
driver.find_element(By.XPATH, "//*[@id='tooltip20163-generic']/table/tbody/tr[1]/td/table[2]/tbody/tr/td")

tables = tooltip.find_elements(By.XPATH, "/table/tbody/tr/td/table")
